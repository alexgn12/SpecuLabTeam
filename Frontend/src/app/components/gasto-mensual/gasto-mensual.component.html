<div class="gm-section">
  <!-- Loading -->
  <div *ngIf="loading" class="alert alert-info text-center">
    Cargando datos de gasto mensual...
  </div>

  <!-- Error -->
  <div *ngIf="error" class="alert alert-danger text-center">
    {{ error }}
  </div>

  <!-- Contenido -->
  <div *ngIf="!loading && !error">
    <!-- Toolbar de filtros -->
    <div class="gm-toolbar mb-3 d-flex align-items-center">
      <label for="yearSelect" class="gm-label me-2">Año:</label>
      <select id="yearSelect" class="form-select gm-select w-auto"
              [value]="selectedYear"
              (change)="onYearChange($event)">
        <option *ngFor="let year of years" [value]="year">{{ year }}</option>
      </select>
    </div>

    <!-- Card con el gráfico -->
    <div class="gm-card shadow-sm">
      <div class="gm-card__header fw-semibold">
        Gasto mensual
      </div>
      <div class="gm-card__body">
        <div class="gm-chart">
          <canvas baseChart
                  [data]="barChartData"
                  [options]="barChartOptions"
                  [type]="barChartType">
          </canvas>
        </div>
      </div>
    </div>
  </div>
</div>
