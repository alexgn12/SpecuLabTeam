<div class="gm-section">
  <!-- Loading -->
  <div *ngIf="loading" class="alert alert-info text-center">Cargando datos de gasto mensual...</div>

  <!-- Error -->
  <div *ngIf="error" class="alert alert-danger text-center">{{ error }}</div>

  <!-- Contenido -->
  <div *ngIf="!loading && !error">
    <div class="gm-toolbar mb-3 d-flex align-items-center gap-2">
      <label for="yearSelect" class="form-label mb-0 gm-label">AÃ±o:</label>
      <select id="yearSelect" class="form-select gm-select w-auto" [value]="selectedYear" (change)="onYearChange($event)">
        <option *ngFor="let year of years" [value]="year">{{ year }}</option>
      </select>
    </div>

    <div class="card gm-card shadow-sm border-0 rounded-4">
      <div class="card-header gm-card__header bg-white fw-semibold">
        Gasto mensual
      </div>
      <div class="card-body gm-card__body">
        <canvas
          baseChart
          [data]="barChartData"
          [options]="barChartOptions"
          [type]="barChartType"
          height="80">
        </canvas>
      </div>
    </div>
  </div>
</div>
