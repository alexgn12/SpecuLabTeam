<div class="analyze-building-request">
  <h2>Analizar solicitud de edificio</h2>
  <form *ngIf="requestId == null" (ngSubmit)="submit()">
    <label for="requestId">Request ID:</label>
    <input id="requestId" type="number" [(ngModel)]="requestId" name="requestId" required>
    <button type="submit" [disabled]="loading">Analizar</button>
  </form>
  <div *ngIf="loading">Analizando...</div>
  <div *ngIf="error" class="error">{{ error }}</div>
  <div *ngIf="result">
    <h3>Resultado IA:</h3>
    <div *ngIf="result.decision">
      <strong>Decisi√≥n:</strong> {{ result.decision }}<br>
      <strong>Motivo:</strong> {{ result.reason }}<br>
      <div *ngIf="result.insights">
        <strong>Insights:</strong> {{ result.insights }}
      </div>
    </div>
    <div *ngIf="!result.decision">
      {{ result }}
    </div>
  </div>
</div>
