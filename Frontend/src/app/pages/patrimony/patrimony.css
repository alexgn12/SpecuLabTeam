/* Oculta el icono de flecha expand/collapse de Angular Material en los paneles de patrimonio */
:host ::ng-deep .patrimony-accordion .mat-expansion-indicator {
  display: none !important;
}
/* Margen para el acordeón y las tablas de edificios */
.mat-accordion {
  margin: 32px 24px;
}

/* Margen para las tablas dentro de los paneles */
.mat-expansion-panel table {
  margin-top: 16px;
  margin-bottom: 16px;
}
/* ============= TOKENS ============= */
:root,
.requests-page {
	--bg: #e2e8f0;
	--card: #ffffff;
	--border: #d0d7e3;
	--shadow: 0 10px 30px rgba(20,24,40,.08);
	--text: #0f172a;
	--muted: #475569;
	--accent: #3b82f6;
	background: linear-gradient(180deg, var(--bg) 0%, #f8fafc 100%);
	min-height: 100%;
	padding: clamp(16px,2.5vw,28px) 0 2rem;
}
.requests-container {
  max-width: 1500px;
  margin: 48px auto;
  padding: 0 32px;
}

/* Titulares */
.section-title { font-weight: 700; color: var(--text); margin: .25rem 0 .75rem; }
.block-title   { margin: .4rem 0 .4rem; font-size: .95rem; font-weight: 700; color: var(--text); }
.muted { color: var(--muted); }
.mono  { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }

/* ============= ACORDEÓN ============= */
.patrimony-accordion.enterprise { max-width: 1100px; margin: 0 auto; }

/* Panel tarjeta */
:host ::ng-deep .p-card.mat-expansion-panel {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-soft);
  overflow: hidden;
  margin-bottom: 14px;
}

/* Header compacto */
:host ::ng-deep .p-card .mat-expansion-panel-header {
  min-height: unset;
  padding: 10px 16px;
}
:host ::ng-deep .p-card .mat-expansion-panel-header:hover { background: #f9fafb; }
:host ::ng-deep .p-card .mat-expansion-panel-header .mat-content { width: 100%; }

/* Grid estable: Nombre | Dirección | Año | Acción */
.p-header .p-row {
  display: grid;
  grid-template-columns: 2fr minmax(240px, 3fr) 110px 130px;
  gap: 12px;
  align-items: center;
  width: 100%;
}
.c-name { font-size: 1rem; color: var(--text); font-weight: 700; }
.c-name .muted { margin-left: .3rem; font-weight: 600; }
.c-address { color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.c-year { color: var(--text); font-weight: 600; text-align: right; }
.c-year .label { color: var(--muted); font-weight: 500; margin-right: .35rem; }
.c-actions { text-align: right; }

/* Cuerpo del panel */
:host ::ng-deep .p-card .mat-expansion-panel-body { padding: 6px 0 12px; }

/* ============= BOTONES ============= */
.btn-primary-sm,
.btn-secondary-sm {
  border: 1px solid transparent;
  border-radius: 8px;
  padding: .34rem .72rem;
  font-size: .9rem;
  font-weight: 600;
  line-height: 1;
  cursor: pointer;
}
.btn-primary-sm { background: var(--accent); color: #fff; }
.btn-primary-sm:hover { filter: brightness(0.96); }
.btn-secondary-sm { background: #1f2937; color: #fff; }
.btn-secondary-sm:hover { filter: brightness(1.06); }

/* ===== Tabla compacta, sin “columna fantasma” ===== */
.table-shell {
  margin: 8px 16px 14px;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
}

/* Reset de hacks responsivos que añaden etiquetas en móviles */
.table-compact td::before,
.table-compact th::before { content: none !important; }

/* Estructura base */
.table-compact {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: .94rem;
  table-layout: fixed; /* estable con colgroup */
}
.table-compact thead th {
  background: #f3f6fb;
  color: #111827;
  font-weight: 700;
  border-bottom: 1px solid var(--border);
  padding: 9px 12px;
  vertical-align: middle;
}
.table-compact tbody td {
  padding: 10px 12px;
  border-bottom: 1px solid #eef2f7;
  vertical-align: middle;
  white-space: nowrap;
}
.table-compact tbody tr:hover { background: #f9fbff; }

/* Alineaciones utilitarias */
.ta-left { text-align: left; }
.ta-center { text-align: center; }
.ta-right { text-align: right; }

/* Anchuras controladas (coinciden con colgroup) */
.w-code    { width: 20%; }
.w-door    { width: 11%; }
.w-floor   { width: 13%; }
.w-rooms   { width: 14%; }
.w-baths   { width: 14%; }
.w-actions { width: 18%; }

/* Botón alineado a la derecha sin crear nueva “columna” */
.table-compact tbody td:last-child > .btn-secondary-sm {
  display: inline-flex;
}

/* Ajustes finos en móvil */
@media (max-width: 780px) {
  .w-code { width: 28%; }
  .w-actions { width: 22%; }
  .table-compact { font-size: .9rem; }
  .table-compact thead th, .table-compact tbody td { padding: 8px 10px; }
}

/* Estado vacío */
.empty { padding: 10px 16px 14px; font-size: .95rem; color: var(--muted); }

/* ============= RESPONSIVE ============= */
@media (max-width: 1024px) {
  .p-header .p-row { grid-template-columns: 2fr 2fr 100px 120px; }
}
@media (max-width: 780px) {
  .p-header .p-row { grid-template-columns: 1.6fr 1fr 80px 110px; gap: 8px; }
  .c-address { display: none; } /* limpia en móvil */
}
@media (max-width: 575.98px) {
  .table-compact { font-size: .9rem; }
  .table-compact thead th, .table-compact tbody td { padding: 8px 10px; }
  .th-actions, .td-actions { width: 120px; }
}
